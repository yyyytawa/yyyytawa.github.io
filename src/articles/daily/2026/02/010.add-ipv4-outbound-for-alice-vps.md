---
title: Alice æœºå™¨æŠ˜è…¾ IPv4 å‡ºå£è®°å½•
order: -010
data: 2026-02-01
category:
- æŠ€æœ¯
tag:
- mihomo
- xray
- alice
- VPS
---

::: note å…è´£å£°æ˜
æœ¬æ•™ç¨‹å¹¶æœªæ•™æˆå¦‚ä½•å®è¡Œ"ç¿»å¢™"è¡Œä¸º,æœåŠ¡å™¨æœ¬èº«åœ¨é¦™æ¸¯ä¹Ÿæ²¡æœ‰ GFW è¿™ä¸€è¯´.
:::

è¿™è¾¹ç”¨çš„æ˜¯ mihomo,åˆ«é—®,é—®å°±æ˜¯æ‡’å¾—é…ç½® iptables è§„åˆ™(é…ç½®é”™äº†è¿˜å®¹æ˜“ç‚¸ç½‘ç»œ,åªèƒ½é  VNC ä¹‹ç±»çš„æ•‘å›æ¥.)  
ä¸ç”¨ WARP çš„åŸå› æ˜¯ f ä½¬çš„è„šæœ¬ä¸å†æ”¯æŒ Teams å’Œ WARP PLUS è´¦å·äº†,å…è´¹ç‰ˆåˆæœ‰ 1 GB çš„æµé‡é™åˆ¶.åŠ ä¸Š Alice é‚£è¾¹ä¹Ÿåˆšå¥½æä¾›äº†å°æ¹¾å®¶å®½å‡ºå£ç´¢æ€§ç›´æ¥æ‹¿æ¥ç”¨äº†.  

### å®‰è£… mihomo

æˆ‘è¿™è¾¹ä½¿ç”¨çš„æ˜¯ Debian 12 ç³»ç»Ÿ,ç†è®ºä¸Š Debian ç³»åˆ—çš„èƒ½é€šç”¨,ä¹Ÿå¯ä»¥å‚ç…§[è™šç©ºç»ˆç«¯(è¢«å¢™)](https://wiki.metacubex.one/)æä¾›çš„å®‰è£…æ•™ç¨‹,æˆ–è€…æ˜¯è‡ªå·±è‡ªè¡Œæ‰‹åŠ¨å®‰è£….  

```bash
# æ³¨æ„è¯·æŠŠ v1.19.19 æ¢æˆå…·ä½“çš„ç‰ˆæœ¬å·,socks5 ä»£ç†å¦‚æœè¦æ˜¯ alice é‚£è¾¹æœ‰å˜åŒ–çš„è¯è¯·è‡ªè¡Œæ›´æ”¹ç›¸å…³ä¿¡æ¯
curl -x socks5h://alice:alicefofo123..OVO@[2a14:67c0:116::1]:10001 -L https://github.com/MetaCubeX/mihomo/releases/download/v1.19.19/mihomo-linux-amd64-v1.19.19.deb --output mihomo.deb
# ä½¿ç”¨ apt ä»æœ¬åœ°å®‰è£… mihomo,å¦‚æœæç¤ºæ‹’ç»è®¿é—®è¯·æ‰‹åŠ¨ä½¿ç”¨ chmod æ›´æ”¹æƒé™
# æ›´æ–°å‰è¯·æ³¨æ„å¤‡ä»½é…ç½®æ–‡ä»¶
sudo apt install ./mihomo.deb
# åˆ é™¤å®‰è£…åŒ…
sudo rm -rf mihomo.deb
```

### ç¼–è¾‘ mihomo é…ç½®æ–‡ä»¶

```yaml :collapsed-lines=15 title="/etc/mihomo/config.yaml" 
unified-delay: true
ipv6: true
find-process-mode: always

# æ€§èƒ½è°ƒä¼˜
tcp-concurrent: true        # TCPå¹¶å‘ï¼šå…è®¸å¹¶å‘è¿æ¥TCP,æé«˜å¹¶å‘æ€§èƒ½
inbound-tfo: true            # å…¥ç«™TCP Fast Open
outbound-tfo: true           # å‡ºç«™TCP Fast Open

log-level: silent
mode: rule


# å…è®¸å¤–éƒ¨æ§åˆ¶
external-controller: 0.0.0.0:9090
# è®¾ç½®è®¿é—®å¯†ç  (å»ºè®®æ›´æ”¹é»˜è®¤å¯†ç )
secret: "alice"


# èŠ‚ç‚¹è®°å¿†
profile:
  store-selected: true
  store-fake-ip: true
# â€”â€”â€”â€”â€”â€”â€”â€”â€”

# ä»£ç†éƒ¨åˆ†
# èŠ‚ç‚¹å®šä¹‰
# è®°å¾—æŒ‰ç…§å®é™…æƒ…å†µé…ç½®
proxies:
# Alice TW å®¶å®½ Socks5
  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-10001"
    type: socks5
    server: "2a14:67c0:116::1"
    port: 10001
    username: "alice"
    password: "alicefofo123..OVO"
    udp: true

  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-10002"
    type: socks5
    server: "2a14:67c0:116::1"
    port: 10002
    username: "alice"
    password: "alicefofo123..OVO"
    udp: true

  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-10003"
    type: socks5
    server: "2a14:67c0:116::1"
    port: 10003
    username: "alice"
    password: "alicefofo123..OVO"
    udp: true

  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-10004"
    type: socks5
    server: "2a14:67c0:116::1"
    port: 10004
    username: "alice"
    password: "alicefofo123..OVO"
    udp: true

  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-10005"
    type: socks5
    server: "2a14:67c0:116::1"
    port: 10005
    username: "alice"
    password: "alicefofo123..OVO"
    udp: true

  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-10006"
    type: socks5
    server: "2a14:67c0:116::1"
    port: 10006
    username: "alice"
    password: "alicefofo123..OVO"
    udp: true

  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-10007"
    type: socks5
    server: "2a14:67c0:116::1"
    port: 10007
    username: "alice"
    password: "alicefofo123..OVO"
    udp: true

  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-10008"
    type: socks5
    server: "2a14:67c0:116::1"
    port: 10008
    username: "alice"
    password: "alicefofo123..OVO"
    udp: true
#â€”â€”â€”â€”â€”â€”â€”â€”â€”

# ç­–ç•¥ç»„
proxy-groups:
  # æ‰‹åŠ¨é€‰æ‹©ç»„
  - name: "ğŸš€ å°æ¹¾å®¶å®½"
    type: select
    proxies:
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-è‡ªåŠ¨é€‰æ‹©"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10001"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10002"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10003"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10004"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10005"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10006"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10007"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10008"

  # è‡ªåŠ¨é€‰æ‹©ç»„
  - name: "ğŸ‡¹ğŸ‡¼ TW-Residential-è‡ªåŠ¨é€‰æ‹©"
    type: url-test # ä¸ç”¨è´Ÿè½½å‡è¡¡çš„åŸå› æ˜¯æœ‰çš„èŠ‚ç‚¹ä¼šéšæœºæŒ‚æ‰ä¸€ä¼šå„¿,ç„¶åä½ å°±ä¼šå‘ç°æœ‰æ—¶å€™èƒ½é€šæœ‰æ—¶å€™ä¸èƒ½é€š
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    tolerance: 50
    proxies:
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10001"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10002"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10003"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10004"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10005"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10006"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10007"
      - "ğŸ‡¹ğŸ‡¼ TW-Residential-10008"

# ç½‘å¡æ¨¡å—
tun:
  enable: true
  device: mihomo
  stack: system
  udp-timeout: 300
  exclude-uid: # å¦‚æœä¸éœ€è¦å’Œ xray å…±å­˜çš„è¯å¯ä»¥æŠŠè¿™é¡¹åˆ äº†
  - 998 # æ¢æˆä½ ä¸“é—¨è·‘ xray ç”¨æˆ·çš„ uid
  auto-route: true
  auto-redirect: true
  strict-route: false
  auto-detect-interface: true
  skip-proxy:
    - 192.168.0.0/16
    - 10.0.0.0/8
    - 172.16.0.0/12
    - 127.0.0.0/8
    - 224.0.0.0/4
    - ::/0
  route-exclude-address:
    - ::/0

rules:
  - IP-CIDR,0.0.0.0/0,ğŸš€ å°æ¹¾å®¶å®½
  - MATCH,DIRECT

```

å¦‚æœä½ æƒ³å’Œ xray è‰¯å¥½å…±å­˜(é˜²æ­¢ xray æµé‡è¿› mihomo TUN)çš„è¯éœ€è¦æ‰‹åŠ¨åˆ›å»º xray è´¦å·å¹¶æ›´æ¢ä¸Šè¿°é…ç½®æ–‡ä»¶ä¸­æ’é™¤ç”¨æˆ·çš„ UID ä¸º xray è´¦å·çš„ UID.æœ¬æ•™ç¨‹ä¸è¿‡å¤šå™è¿°.

åˆ›å»º xray ç”¨æˆ·å’Œç»„.  

```bash
sudo groupadd --system xray
sudo useradd --system --gid xray --no-create-home --shell /sbin/nologin xray
```

æ‰‹åŠ¨æŸ¥çœ‹ xray ç”¨æˆ·çš„ UID

```bash
id xray
```

å®‰è£…/æ›´æ”¹ xray è¿è¡Œçš„ç”¨æˆ·.(å½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ service æ–‡ä»¶æ”¹.)  

```bash
sudo bash -c "$(curl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh)" @ install -u xray
```

### å¯ç”¨ mihomo æœåŠ¡

```bash
sudo systemctl enable mihomo --now
```

åº”è¯¥,æˆ–è®¸ä½ ç”¨ `curl ip.sb -4` å°±èƒ½çœ‹åˆ° IPv4 å‡ºå£çš„åœ°å€äº†.  

## The End